<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8" />
  <title>Kamus Hafalan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <header>
    <h1>Kamus Hafalan</h1>
    <p id="userInfo">Checking auth...</p>
    <button id="logoutBtn">Logout</button>
  </header>

  <main>

    <!-- AUTH SECTION -->
    <section id="authSection">
      <h2>Log Masuk</h2>
      <p>Gunakan Google untuk mula menyusun kamus hafalan anda.</p>
      <button id="googleLoginBtn">Login dengan Google</button>
    </section>

    <!-- APP SECTION -->
    <section id="appSection" style="display:none;">

      <nav>
        <button id="tabLanguagesBtn" type="button">Bahasa</button>
        <button id="tabWordsBtn" type="button">Perkataan</button>
        <button id="tabElementsBtn" type="button">Elemen</button>
      </nav>

      <!-- VIEW: BAHASA -->
      <section id="languagesView">
        <h2>Bahasa</h2>
        <form id="addLanguageForm">
          <input id="languageName" type="text" placeholder="Nama bahasa (contoh: Bahasa Melayu, English)" required />
          <button type="submit">Tambah Bahasa</button>
        </form>
        <ul id="languageList"></ul>
      </section>

      <!-- VIEW: HURUF + PERKATAAN -->
      <section id="wordsView" style="display:none;">
        <h2 id="wordsHeader">Perkataan</h2>
        <p id="wordsContext"></p>

        <div id="letterList"></div>

        <h3>Perkataan untuk huruf dipilih</h3>
        <form id="addWordForm">
          <input id="wordText" type="text" placeholder="Perkataan baharu" required />
          <button type="submit">Tambah Perkataan</button>
        </form>
        <ul id="wordList"></ul>
      </section>

      <!-- VIEW: ELEMEN (AYAT / NOTA) -->
      <section id="elementsView" style="display:none;">
        <h2 id="elementsHeader">Elemen Hafalan</h2>
        <p id="elementsContext"></p>

        <form id="addElementForm">
          <input id="elementTitle" type="text" placeholder="Tajuk elemen (contoh: Ayat contoh 1, Nota ringkas)" required />
          <select id="elementTemplate">
            <option value="">Tiada template</option>
            <option value="sentence">Ayat Biasa</option>
            <option value="paragraph">Perenggan Karangan</option>
            <option value="note">Nota Ringkas</option>
          </select>
          <textarea id="elementContent" rows="6" placeholder="Isi elemen di sini..."></textarea>
          <button type="submit">Simpan Elemen</button>
        </form>

        <h3>Senarai elemen</h3>
        <ul id="elementList"></ul>
      </section>

    </section>

  </main>

  <!-- DARK MODE BUTTON -->
  <button id="themeToggle">Dark Mode</button>

  <script type="module" src="main.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js");
    }
  </script>
</body>
</html>
